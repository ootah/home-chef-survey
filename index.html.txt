<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Honoring Our Home Chefs | Culinary Survey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        h1, h2, h3, .playfair {
            font-family: 'Playfair Display', serif;
        }
        .bg-warm {
            background-color: #FDF8F5;
        }
        .text-earthy {
            color: #5D4037;
        }
        .btn-warm {
            background-color: #D84315;
            transition: all 0.3s ease;
        }
        .btn-warm:hover {
            background-color: #BF360C;
            transform: translateY(-2px);
        }
        .card-shadow {
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }
        #loading-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #D84315;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .sparkle-btn {
            background: linear-gradient(90deg, #D84315, #FF7043);
            border: none;
            color: white;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        .sparkle-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        .motivation-gradient {
            background: linear-gradient(135deg, #FFF5F1 0%, #FFEDD5 100%);
        }
    </style>
</head>
<body class="bg-warm text-gray-800">

    <div id="loading-overlay">
        <div class="spinner mb-4"></div>
        <p id="loading-text" class="text-earthy font-medium">Processing your request...</p>
    </div>

    <!-- Hero Section -->
    <header class="relative bg-white overflow-hidden border-b border-orange-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="relative z-10 pb-8 bg-white sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32">
                <main class="mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28">
                    <div class="sm:text-center lg:text-left">
                        <h1 class="text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl">
                            <span class="block text-earthy xl:inline">‚ÄúThe Greatest Chefs in the World</span>
                            <span class="block text-orange-600 xl:inline"> Are Home Makers‚Äù</span>
                        </h1>
                        <p class="mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0">
                            Honoring the culinary experts who nourish our families every single day. Your expertise is the heart of our culture, and your skills are world-class.
                        </p>
                        <div class="mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start">
                            <div class="rounded-md shadow">
                                <a href="#survey" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white btn-warm md:py-4 md:text-lg md:px-10">
                                    Respond to the Survey
                                </a>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
        <div class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2">
            <img id="hero-image" class="h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full" src="https://images.unsplash.com/photo-1556910103-1c02745aae4d?auto=format&fit=crop&q=80&w=1200" alt="Indian homemaker cooking in a vibrant kitchen">
        </div>
    </header>

    <!-- Motivational Section -->
    <section class="py-16 motivation-gradient border-y border-orange-100">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="inline-block p-2 px-4 rounded-full bg-orange-100 text-orange-700 text-sm font-bold tracking-widest uppercase mb-4">
                Inspire the World
            </div>
            <h2 class="text-4xl font-bold text-earthy mb-6">Your Recipes are a Legacy</h2>
            <p class="text-xl text-gray-700 max-w-3xl mx-auto leading-relaxed mb-10">
                That pinch of salt, that special way you saut√© the spices, and the love you pour into every ladle‚Äîthese aren't just steps; they are <span class="text-orange-600 font-bold">masterpieces</span>. By sharing your tasty recipes, you aren't just giving a dish, you are sharing a piece of your heart and keeping traditions alive for generations to come.
            </p>
            
            <div id="quote-container" class="max-w-2xl mx-auto bg-white/60 backdrop-blur p-8 rounded-3xl border border-white shadow-sm italic text-gray-600 relative">
                <svg class="absolute top-4 left-4 w-8 h-8 text-orange-200" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21L14.017 18C14.017 16.8954 14.9124 16 16.017 16H19.017C19.5693 16 20.017 15.5523 20.017 15V9C20.017 8.44772 19.5693 8 19.017 8H15.017C14.4647 8 14.017 8.44772 14.017 9V11C14.017 11.5523 13.5693 12 13.017 12H11.017C10.4647 12 10.017 11.5523 10.017 11V9C10.017 7.34315 11.3601 6 13.017 6H19.017C20.6739 6 22.017 7.34315 22.017 9V15C22.017 17.7614 19.7784 20 17.017 20H14.017V21ZM5.017 21L5.017 18C5.017 16.8954 5.91243 16 7.017 16H10.017C10.5693 16 11.017 15.5523 11.017 15V9C11.017 8.44772 10.5693 8 10.017 8H6.017C5.46472 8 5.017 8.44772 5.017 9V11C5.017 11.5523 4.56929 12 4.017 12H2.017C1.46472 12 1.017 11.5523 1.017 11V9C1.017 7.34315 2.36015 6 4.017 6H10.017C11.6739 6 13.017 7.34315 13.017 9V15C13.017 17.7614 10.7784 20 8.017 20H5.017V21Z" /></svg>
                <p id="motivational-quote" class="text-lg relative z-10">"Cooking is not just about ingredients, it is about the story you tell on the plate."</p>
                <button onclick="getNewQuote()" class="mt-4 text-xs text-orange-600 font-semibold underline hover:text-orange-800 transition">Get More Inspiration ‚ú®</button>
            </div>
        </div>
    </section>

    <!-- Purpose Section -->
    <section class="py-16 bg-warm">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-earthy mb-6">Our Purpose</h2>
                <p class="text-lg text-gray-600 leading-relaxed italic mb-8">
                    "This survey aims to celebrate and understand the vast culinary talent within Indian households."
                </p>
            </div>
            <div class="grid md:grid-cols-3 gap-8 text-center">
                <div class="bg-white p-6 rounded-xl card-shadow border-t-4 border-orange-200">
                    <div class="text-orange-600 mb-3 flex justify-center">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </div>
                    <h3 class="font-bold text-gray-800 mb-2">Understand Skills</h3>
                    <p class="text-sm text-gray-500">Mapping the incredible variety of dishes and styles mastered by homemakers.</p>
                </div>
                <div class="bg-white p-6 rounded-xl card-shadow border-t-4 border-orange-200">
                    <div class="text-orange-600 mb-3 flex justify-center">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    </div>
                    <h3 class="font-bold text-gray-800 mb-2">Empower Entrepreneurs</h3>
                    <p class="text-sm text-gray-500">Exploring the potential for home-based cooking businesses and financial independence.</p>
                </div>
                <div class="bg-white p-6 rounded-xl card-shadow border-t-4 border-orange-200">
                    <div class="text-orange-600 mb-3 flex justify-center">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path></svg>
                    </div>
                    <h3 class="font-bold text-gray-800 mb-2">Connect Communities</h3>
                    <p class="text-sm text-gray-500">Gauging interest in accessing authentic, home-cooked food services.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Survey Section -->
    <section id="survey" class="py-16 bg-white">
        <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-orange-50 rounded-2xl p-8 mb-8 border border-orange-100">
                <h2 class="text-2xl font-bold text-earthy mb-4">Share Your Journey With Us</h2>
                <div class="p-4 bg-white rounded-lg border-l-4 border-orange-500 text-sm text-gray-700 mb-6">
                    <p class="font-bold mb-1">Data Privacy Notice:</p>
                    Your information is safe with us. The details you share will be used only for research purposes related to homemaker cooking interests.
                </div>

                <form id="cooking-survey" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                            <input type="text" name="name" id="user-name" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                            <input type="tel" name="phone" id="user-phone" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Street / Area Name</label>
                        <input type="text" name="area" id="user-area" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500">
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Which food or dish do you master in cooking?</label>
                        <div class="flex gap-2">
                            <input type="text" id="master-dish" name="dish" placeholder="e.g., Traditional Biryani, Puran Poli..." required class="flex-grow px-4 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500">
                            <button type="button" onclick="generateFlavorInsight()" class="sparkle-btn px-4 py-2 rounded-md font-medium text-sm whitespace-nowrap">
                                ‚ú® Flavor Insight
                            </button>
                        </div>
                        <div id="dish-insight-container" class="mt-3 hidden">
                            <div class="p-4 bg-white border border-orange-200 rounded-lg shadow-sm">
                                <p id="dish-insight-text" class="text-sm italic text-gray-700 mb-2"></p>
                                <div class="pt-2 border-t border-orange-100 flex items-start gap-2">
                                    <span class="text-orange-600">üìà</span>
                                    <p id="dish-market-text" class="text-xs font-semibold text-orange-800 uppercase tracking-wider"></p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Are you interested in starting a home-based cooking business?</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 text-sm text-gray-700">
                                <input type="radio" name="entrepreneur" value="Yes" required class="text-orange-600 focus:ring-orange-500">
                                <span>Yes, I would love to</span>
                            </label>
                            <label class="flex items-center space-x-3 text-sm text-gray-700">
                                <input type="radio" name="entrepreneur" value="Maybe" class="text-orange-600 focus:ring-orange-500">
                                <span>Maybe, I'm thinking about it</span>
                            </label>
                            <label class="flex items-center space-x-3 text-sm text-gray-700">
                                <input type="radio" name="entrepreneur" value="No" class="text-orange-600 focus:ring-orange-500">
                                <span>No, I prefer cooking for my family only</span>
                            </label>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">What are you primarily looking for?</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-3 text-sm text-gray-700">
                                <input type="radio" name="primary_goal" value="Entrepreneur" required class="text-orange-600 focus:ring-orange-500">
                                <span>I want to become a home-cook entrepreneur</span>
                            </label>
                            <label class="flex items-center space-x-3 text-sm text-gray-700">
                                <input type="radio" name="primary_goal" value="Consumer" class="text-orange-600 focus:ring-orange-500">
                                <span>I am looking for home-cooked food services</span>
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="w-full py-4 rounded-xl text-white btn-warm font-bold text-lg shadow-lg">
                        Submit My Responses
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-earthy text-white py-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-lg font-bold mb-4">Honoring the Hands that Feed Us</p>
            <div class="flex justify-center space-x-6 mb-8 text-orange-200">
                <span class="text-sm">Empowerment</span>
                <span class="text-sm">‚Ä¢</span>
                <span class="text-sm">Tradition</span>
                <span class="text-sm">‚Ä¢</span>
                <span class="text-sm">Excellence</span>
            </div>
            <p class="text-gray-400 text-xs">¬© 2024 Home Chef Empowerment Initiative. All rights reserved.</p>
        </div>
    </footer>

    <script>
        const apiKey = "";
        const GEMINI_MODEL = "gemini-2.5-flash-preview-09-2025";
        
        /**
         * IMPORTANT FIX:
         * Do NOT paste the spreadsheet link here.
         * Paste the GOOGLE APPS SCRIPT WEB APP URL (ends in /exec).
         */
        const googleSheetUrl = "https://script.google.com/macros/s/AKfycbzpmbOJkhwNIiSB3oV3lUuXaPwL3mGyGrWaMztJwI_GGXt0zs0-IOMM4-Q6Sfr-HIYf/exec"; 

        async function fetchGemini(model, payload) {
            let retries = 5;
            let delay = 1000;
            const url = `https://generativelanguage.googleapis.com/v1beta/models/${model}:${model.includes('imagen') ? 'predict' : 'generateContent'}?key=${apiKey}`;
            
            while (retries > 0) {
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    if (!response.ok) throw new Error('API request failed');
                    return await response.json();
                } catch (err) {
                    retries--;
                    if (retries === 0) throw err;
                    await new Promise(r => setTimeout(r, delay));
                    delay *= 2;
                }
            }
        }

        async function generateHeroImage() {
            try {
                const prompt = "A highly detailed professional photograph of a confident Indian homemaker in action, skillfully cooking in a vibrant, warm Indian kitchen. She is smiling, tossing vegetables in a pan with steam rising, wearing elegant traditional attire (saree/kurta). Soft natural lighting, shallow depth of field, reflecting pride, mastery, and culinary expertise.";
                const data = await fetchGemini("imagen-4.0-generate-001", {
                    instances: [{ prompt: prompt }],
                    parameters: { sampleCount: 1 }
                });
                if (data.predictions?.[0]?.bytesBase64Encoded) {
                    document.getElementById('hero-image').src = `data:image/png;base64,${data.predictions[0].bytesBase64Encoded}`;
                }
            } catch (err) {
                console.error("Hero generation failed", err);
            }
        }

        async function getNewQuote() {
            const quoteEl = document.getElementById('motivational-quote');
            quoteEl.classList.add('opacity-50');
            
            try {
                const prompt = "Generate a one-sentence highly motivational and beautiful quote intended for homemakers and housewives about the power of their cooking, sharing their recipes, and how their culinary skills are a gift to the world. Keep it poetic and respectful.";
                const data = await fetchGemini(GEMINI_MODEL, {
                    contents: [{ parts: [{ text: prompt }] }]
                });
                const quote = data.candidates?.[0]?.content?.parts?.[0]?.text;
                if (quote) {
                    quoteEl.innerText = quote.trim().replace(/^"|"$/g, '');
                }
            } catch (err) {
                console.error("Quote generation failed", err);
            } finally {
                quoteEl.classList.remove('opacity-50');
            }
        }

        async function generateFlavorInsight() {
            const dish = document.getElementById('master-dish').value;
            if (!dish) {
                alert("Please enter a dish first!");
                return;
            }

            const loader = document.getElementById('loading-overlay');
            const loadText = document.getElementById('loading-text');
            const insightContainer = document.getElementById('dish-insight-container');
            const insightText = document.getElementById('dish-insight-text');
            const marketText = document.getElementById('dish-market-text');
            
            loadText.innerText = "‚ú® Analyzing the legacy of your dish...";
            loader.style.display = 'flex';

            try {
                const prompt = `Based on the dish "${dish}", provide two distinct pieces of information in a JSON object format with keys "insight" and "market". 
                "insight": One short, inspiring sentence about why this dish is a cultural or emotional masterpiece in an Indian home.
                "market": One very short phrase (max 10 words) describing the massive demand or business opportunity for this specific dish (e.g., "High demand in corporate lunches" or "Perfect for premium weekend delivery").`;

                const data = await fetchGemini(GEMINI_MODEL, {
                    contents: [{ parts: [{ text: prompt }] }],
                    generationConfig: { responseMimeType: "application/json" }
                });

                const result = JSON.parse(data.candidates?.[0]?.content?.parts?.[0]?.text);
                if (result) {
                    insightText.innerText = result.insight;
                    marketText.innerText = "Market Potential: " + result.market;
                    insightContainer.classList.remove('hidden');
                }
            } catch (err) {
                console.error("Insight generation failed", err);
            } finally {
                loader.style.display = 'none';
            }
        }

        window.onload = () => {
            generateHeroImage();
            getNewQuote();

            const form = document.getElementById('cooking-survey');
            form.onsubmit = async (e) => {
                e.preventDefault();
                const loader = document.getElementById('loading-overlay');
                const loadText = document.getElementById('loading-text');
                loadText.innerText = "Saving your details to Google Sheets...";
                loader.style.display = 'flex';

                const formData = new FormData(form);
                const payload = Object.fromEntries(formData.entries());

                try {
                    if (!googleSheetUrl || googleSheetUrl === "" || googleSheetUrl.includes("docs.google.com/spreadsheets")) {
                        loader.style.display = 'none';
                        alert('Error: You have either not set the URL or you pasted the Spreadsheet link instead of the Web App (exec) URL. Please follow the instructions to get the correct Deployment URL from Apps Script.');
                        return;
                    }

                    // Use fetch to send the JSON payload to Apps Script
                    await fetch(googleSheetUrl, {
                        method: 'POST',
                        mode: 'no-cors', 
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    
                    loader.style.display = 'none';
                    alert('Success! Your expertise has been registered. Thank you for participating!');
                    
                    form.reset();
                    document.getElementById('dish-insight-container').classList.add('hidden');
                } catch (err) {
                    console.error("Submission error:", err);
                    loader.style.display = 'none';
                    alert('There was an error connecting to the script. Ensure you have deployed as a "Web App" and set access to "Anyone".');
                }
            };
        };
    </script>
</body>
</html>